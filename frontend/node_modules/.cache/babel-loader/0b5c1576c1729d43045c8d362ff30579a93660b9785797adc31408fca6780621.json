{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gvsux\\\\OneDrive\\\\Desktop\\\\Anangwe\\\\Budgeting-Bot\\\\frontend\\\\src\\\\components\\\\ChatWindow.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst incomeSources = [\"Job\", \"Side-hustle\", \"Family support\", \"Scholarships\", \"Reimbursements\", \"Tax refunds\"];\nconst expenseCategories = [\"Rent\", \"Groceries\", \"Utilities\", \"Transport\", \"Tuition\", \"Dining out\", \"Entertainment\", \"Other\"];\nexport default function ChatWindow() {\n  _s();\n  const [theme, setTheme] = useState(\"light\");\n  const [fontSize, setFontSize] = useState(1.0);\n  const [step, setStep] = useState(0);\n  const [userState, setUserState] = useState({\n    name: \"\",\n    goal: \"\",\n    income: {},\n    expenses: {},\n    qna: \"\",\n    insights: \"\"\n  });\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [chatResponse, setChatResponse] = useState(\"\");\n  const [spreadsheetUrl, setSpreadsheetUrl] = useState(\"\");\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (inputRef.current) inputRef.current.focus();\n  }, [step, loading, chatResponse]);\n\n  // Debug print for state\n  useEffect(() => {\n    console.log(\"ðŸŸ¢ Frontend state:\", {\n      step,\n      userState\n    });\n  }, [step, userState]);\n  const handleNext = field => {\n    setUserState(s => ({\n      ...s,\n      [field]: input\n    }));\n    setInput(\"\");\n    setStep(step + 1);\n  };\n  const handleMultiNext = (field, key, value) => {\n    setUserState(s => ({\n      ...s,\n      [field]: {\n        ...s[field],\n        [key]: value\n      }\n    }));\n    setInput(\"\");\n    setStep(step + 1);\n  };\n  const sendLLM = async stepName => {\n    setLoading(true);\n    try {\n      const res = await axios.post(\"http://localhost:8000/chat\", {\n        step: stepName,\n        user_state: userState\n      });\n      console.log(\"ðŸŸ¢ Frontend got:\", res.data);\n      setChatResponse(res.data.response);\n      setUserState(s => ({\n        ...s,\n        last_bot_message: res.data.response,\n        insight_text: stepName === \"insights\" ? res.data.response : s.insight_text\n      }));\n    } catch (err) {\n      console.error(err);\n      setChatResponse(\"Oops! Something went wrong.\");\n    }\n    setLoading(false);\n  };\n  const download = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.post(\"http://localhost:8000/export-budget\", userState, {\n        responseType: \"blob\"\n      });\n      const url = URL.createObjectURL(new Blob([res.data]));\n      setSpreadsheetUrl(url);\n      console.log(\"ðŸŸ¢ Frontend downloaded spreadsheet\");\n    } catch (err) {\n      console.error(err);\n    }\n    setLoading(false);\n  };\n\n  // Font size control\n  const fontSizePct = Math.round(fontSize * 100);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"theme-toggle-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        \"aria-label\": `Switch to ${theme === \"dark\" ? \"light\" : \"dark\"} mode`,\n        className: \"theme-toggle-btn\",\n        tabIndex: 0,\n        onClick: () => setTheme(theme === \"dark\" ? \"light\" : \"dark\"),\n        children: theme === \"dark\" ? \"ðŸŒž Light Mode\" : \"ðŸŒ™ Dark Mode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        \"aria-label\": `Increase font size (current: ${fontSizePct}%)`,\n        className: \"font-size-btn\",\n        tabIndex: 0,\n        style: {\n          marginLeft: 8\n        },\n        onClick: () => setFontSize(f => Math.min(f + 0.15, 1.7)),\n        children: \"A+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        \"aria-label\": `Decrease font size (current: ${fontSizePct}%)`,\n        className: \"font-size-btn\",\n        tabIndex: 0,\n        style: {\n          marginLeft: 2\n        },\n        onClick: () => setFontSize(f => Math.max(f - 0.15, 0.7)),\n        children: \"A-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `chat-window-modern ${theme}`,\n      style: {\n        fontSize: `${fontSize}em`\n      },\n      children: [step === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bot-bubble bubble-animate\",\n        role: \"status\",\n        \"aria-live\": \"polite\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Hello, I am FinBot, your AI Budgeting Assistant.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bubble-action-btn\",\n          tabIndex: 0,\n          \"aria-label\": \"Start\",\n          onClick: () => setStep(1),\n          children: \"Start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bot-bubble bubble-animate\",\n        role: \"status\",\n        \"aria-live\": \"polite\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name-input\",\n          children: \"What is your name?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputRef,\n          id: \"name-input\",\n          value: input,\n          onChange: e => setInput(e.target.value),\n          onKeyDown: e => e.key === \"Enter\" && handleNext(\"name\"),\n          tabIndex: 0,\n          \"aria-label\": \"Your name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bubble-action-btn\",\n          tabIndex: 0,\n          \"aria-label\": \"Next\",\n          onClick: () => handleNext(\"name\"),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bot-bubble bubble-animate\",\n        role: \"status\",\n        \"aria-live\": \"polite\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"goal-input\",\n          children: \"What is your financial goal this month?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputRef,\n          id: \"goal-input\",\n          value: input,\n          onChange: e => setInput(e.target.value),\n          onKeyDown: e => e.key === \"Enter\" && handleNext(\"goal\"),\n          tabIndex: 0,\n          \"aria-label\": \"Your financial goal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bubble-action-btn\",\n          tabIndex: 0,\n          \"aria-label\": \"Next\",\n          onClick: () => handleNext(\"goal\"),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bot-bubble bubble-animate\",\n        role: \"status\",\n        \"aria-live\": \"polite\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"goal-thought-prompt\",\n          children: \"You wanna know what I think about your financial goal?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bubble-action-btn\",\n          tabIndex: 0,\n          \"aria-label\": \"Yes\",\n          onClick: () => setStep(step + 1),\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bubble-action-btn\",\n          tabIndex: 0,\n          \"aria-label\": \"No\",\n          onClick: () => setStep(step + 1),\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this), step >= 4 && step < 4 + incomeSources.length && (() => {\n        const idx = step - 4;\n        const label = incomeSources[idx];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bot-bubble bubble-animate\",\n          role: \"status\",\n          \"aria-live\": \"polite\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: `income-${label}`,\n            children: [\"How much do you get from \", label, \"?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: inputRef,\n            id: `income-${label}`,\n            type: \"number\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: e => e.key === \"Enter\" && input && handleMultiNext(\"income\", label, Number(input)),\n            tabIndex: 0,\n            \"aria-label\": `Income from ${label}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bubble-action-btn\",\n            tabIndex: 0,\n            \"aria-label\": \"Next\",\n            onClick: () => input && handleMultiNext(\"income\", label, Number(input)),\n            disabled: !input,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this);\n      })(), step >= 4 + incomeSources.length && step < 4 + incomeSources.length + expenseCategories.length && (() => {\n        const idx = step - (4 + incomeSources.length);\n        const label = expenseCategories[idx];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bot-bubble bubble-animate\",\n          role: \"status\",\n          \"aria-live\": \"polite\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: `expense-${label}`,\n            children: [\"How much do you spend on \", label, \"?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: inputRef,\n            id: `expense-${label}`,\n            type: \"number\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            onKeyDown: e => e.key === \"Enter\" && input && handleMultiNext(\"expenses\", label, Number(input)),\n            tabIndex: 0,\n            \"aria-label\": `Expenses for ${label}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bubble-action-btn\",\n            tabIndex: 0,\n            \"aria-label\": \"Next\",\n            onClick: () => input && handleMultiNext(\"expenses\", label, Number(input)),\n            disabled: !input,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this);\n      })(), step === 4 + incomeSources.length + expenseCategories.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bot-bubble bubble-animate\",\n        role: \"status\",\n        \"aria-live\": \"polite\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Insights for optimizing your money management skills\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bubble-action-btn\",\n          tabIndex: 0,\n          \"aria-label\": \"Get Insights\",\n          onClick: () => sendLLM(\"insights\"),\n          disabled: loading,\n          children: loading ? \"Thinking...\" : \"Get Insights\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this), chatResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"insights\",\n          children: chatResponse\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 30\n        }, this), chatResponse && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bubble-action-btn\",\n          tabIndex: 0,\n          \"aria-label\": \"Next\",\n          onClick: () => setStep(step + 1),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this), step === 5 + incomeSources.length + expenseCategories.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bot-bubble bubble-animate\",\n        role: \"status\",\n        \"aria-live\": \"polite\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"qna-input\",\n          children: \"Do you have any questions about your money management or budgeting?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputRef,\n          id: \"qna-input\",\n          value: userState.qna,\n          onChange: e => setUserState(s => ({\n            ...s,\n            qna: e.target.value\n          })),\n          onKeyDown: e => e.key === \"Enter\" && sendLLM(\"qna\"),\n          tabIndex: 0,\n          \"aria-label\": \"Money management question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bubble-action-btn\",\n          tabIndex: 0,\n          \"aria-label\": \"Ask\",\n          onClick: () => sendLLM(\"qna\"),\n          disabled: loading,\n          children: loading ? \"Thinking...\" : \"Ask\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), chatResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"insights\",\n          children: chatResponse\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 30\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bubble-action-btn\",\n          tabIndex: 0,\n          \"aria-label\": \"Next\",\n          onClick: () => setStep(step + 1),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this), step === 6 + incomeSources.length + expenseCategories.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bot-bubble bubble-animate\",\n        role: \"status\",\n        \"aria-live\": \"polite\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Download your budget template as a spreadsheet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bubble-action-btn\",\n          tabIndex: 0,\n          \"aria-label\": \"Download Spreadsheet\",\n          onClick: download,\n          disabled: loading,\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this), spreadsheetUrl && /*#__PURE__*/_jsxDEV(\"a\", {\n          href: spreadsheetUrl,\n          download: \"budget.xlsx\",\n          children: \"Click here if your download does not start.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this), step > 6 + incomeSources.length + expenseCategories.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bot-bubble bubble-animate\",\n        role: \"status\",\n        \"aria-live\": \"polite\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Thank you for using FinBot! Refresh to start over.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 87\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(ChatWindow, \"HaYKwbPco1pDYkeyBiclFFDNlds=\");\n_c = ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","incomeSources","expenseCategories","ChatWindow","_s","theme","setTheme","fontSize","setFontSize","step","setStep","userState","setUserState","name","goal","income","expenses","qna","insights","input","setInput","loading","setLoading","chatResponse","setChatResponse","spreadsheetUrl","setSpreadsheetUrl","inputRef","current","focus","console","log","handleNext","field","s","handleMultiNext","key","value","sendLLM","stepName","res","post","user_state","data","response","last_bot_message","insight_text","err","error","download","responseType","url","URL","createObjectURL","Blob","fontSizePct","Math","round","children","className","tabIndex","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","marginLeft","f","min","max","role","htmlFor","ref","id","onChange","e","target","onKeyDown","length","idx","label","type","Number","disabled","href","_c","$RefreshReg$"],"sources":["C:/Users/gvsux/OneDrive/Desktop/Anangwe/Budgeting-Bot/frontend/src/components/ChatWindow.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles.css\";\n\nconst incomeSources = [\n  \"Job\", \"Side-hustle\", \"Family support\", \"Scholarships\", \"Reimbursements\", \"Tax refunds\"\n];\nconst expenseCategories = [\n  \"Rent\", \"Groceries\", \"Utilities\", \"Transport\", \"Tuition\", \"Dining out\", \"Entertainment\", \"Other\"\n];\n\nexport default function ChatWindow() {\n  const [theme, setTheme] = useState(\"light\");\n  const [fontSize, setFontSize] = useState(1.0);\n  const [step, setStep] = useState(0);\n  const [userState, setUserState] = useState({\n    name: \"\", goal: \"\", income: {}, expenses: {}, qna: \"\", insights: \"\"\n  });\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [chatResponse, setChatResponse] = useState(\"\");\n  const [spreadsheetUrl, setSpreadsheetUrl] = useState(\"\");\n\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (inputRef.current) inputRef.current.focus();\n  }, [step, loading, chatResponse]);\n\n  // Debug print for state\n  useEffect(() => {\n    console.log(\"ðŸŸ¢ Frontend state:\", { step, userState });\n  }, [step, userState]);\n\n  const handleNext = (field) => {\n    setUserState(s => ({ ...s, [field]: input }));\n    setInput(\"\");\n    setStep(step + 1);\n  };\n\n  const handleMultiNext = (field, key, value) => {\n    setUserState(s => ({\n      ...s,\n      [field]: { ...s[field], [key]: value }\n    }));\n    setInput(\"\");\n    setStep(step + 1);\n  };\n\n  const sendLLM = async (stepName) => {\n    setLoading(true);\n    try {\n      const res = await axios.post(\"http://localhost:8000/chat\", {\n        step: stepName,\n        user_state: userState,\n      });\n      console.log(\"ðŸŸ¢ Frontend got:\", res.data);\n      setChatResponse(res.data.response);\n      setUserState(s => ({\n        ...s,\n        last_bot_message: res.data.response,\n        insight_text: stepName === \"insights\" ? res.data.response : s.insight_text\n      }));\n    } catch (err) {\n      console.error(err);\n      setChatResponse(\"Oops! Something went wrong.\");\n    }\n    setLoading(false);\n  };\n\n  const download = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.post(\"http://localhost:8000/export-budget\", userState, { responseType: \"blob\" });\n      const url = URL.createObjectURL(new Blob([res.data]));\n      setSpreadsheetUrl(url);\n      console.log(\"ðŸŸ¢ Frontend downloaded spreadsheet\");\n    } catch (err) {\n      console.error(err);\n    }\n    setLoading(false);\n  };\n\n  // Font size control\n  const fontSizePct = Math.round(fontSize * 100);\n\n  return (\n    <>\n      <div className=\"theme-toggle-row\">\n        <button\n          aria-label={`Switch to ${theme === \"dark\" ? \"light\" : \"dark\"} mode`}\n          className=\"theme-toggle-btn\"\n          tabIndex={0}\n          onClick={() => setTheme(theme === \"dark\" ? \"light\" : \"dark\")}\n        >\n          {theme === \"dark\" ? \"ðŸŒž Light Mode\" : \"ðŸŒ™ Dark Mode\"}\n        </button>\n        <button\n          aria-label={`Increase font size (current: ${fontSizePct}%)`}\n          className=\"font-size-btn\"\n          tabIndex={0}\n          style={{ marginLeft: 8 }}\n          onClick={() => setFontSize(f => Math.min(f + 0.15, 1.7))}\n        >A+</button>\n        <button\n          aria-label={`Decrease font size (current: ${fontSizePct}%)`}\n          className=\"font-size-btn\"\n          tabIndex={0}\n          style={{ marginLeft: 2 }}\n          onClick={() => setFontSize(f => Math.max(f - 0.15, 0.7))}\n        >A-</button>\n      </div>\n      <div className={`chat-window-modern ${theme}`} style={{ fontSize: `${fontSize}em` }}>\n        {/* Step 0: Greeting */}\n        {step === 0 && (\n          <div className=\"bot-bubble bubble-animate\" role=\"status\" aria-live=\"polite\">\n            <h2>Hello, I am FinBot, your AI Budgeting Assistant.</h2>\n            <button\n              className=\"bubble-action-btn\"\n              tabIndex={0}\n              aria-label=\"Start\"\n              onClick={() => setStep(1)}\n            >Start</button>\n          </div>\n        )}\n        {/* Step 1: Name */}\n        {step === 1 && (\n          <div className=\"bot-bubble bubble-animate\" role=\"status\" aria-live=\"polite\">\n            <label htmlFor=\"name-input\">What is your name?</label>\n            <input\n              ref={inputRef}\n              id=\"name-input\"\n              value={input}\n              onChange={e => setInput(e.target.value)}\n              onKeyDown={e => e.key === \"Enter\" && handleNext(\"name\")}\n              tabIndex={0}\n              aria-label=\"Your name\"\n            />\n            <button\n              className=\"bubble-action-btn\"\n              tabIndex={0}\n              aria-label=\"Next\"\n              onClick={() => handleNext(\"name\")}\n            >Next</button>\n          </div>\n        )}\n        {/* Step 2: Financial Goal */}\n        {step === 2 && (\n          <div className=\"bot-bubble bubble-animate\" role=\"status\" aria-live=\"polite\">\n            <label htmlFor=\"goal-input\">What is your financial goal this month?</label>\n            <input\n              ref={inputRef}\n              id=\"goal-input\"\n              value={input}\n              onChange={e => setInput(e.target.value)}\n              onKeyDown={e => e.key === \"Enter\" && handleNext(\"goal\")}\n              tabIndex={0}\n              aria-label=\"Your financial goal\"\n            />\n            <button\n              className=\"bubble-action-btn\"\n              tabIndex={0}\n              aria-label=\"Next\"\n              onClick={() => handleNext(\"goal\")}\n            >Next</button>\n          </div>\n        )}\n        {/* Step 3: Confirmation */}\n        {step === 3 && (\n          <div className=\"bot-bubble bubble-animate\" role=\"status\" aria-live=\"polite\">\n            <p id=\"goal-thought-prompt\">You wanna know what I think about your financial goal?</p>\n            <button className=\"bubble-action-btn\" tabIndex={0} aria-label=\"Yes\" onClick={() => setStep(step + 1)}>Yes</button>\n            <button className=\"bubble-action-btn\" tabIndex={0} aria-label=\"No\" onClick={() => setStep(step + 1)}>No</button>\n          </div>\n        )}\n        {/* Income collection */}\n        {step >= 4 && step < 4 + incomeSources.length && (() => {\n          const idx = step - 4;\n          const label = incomeSources[idx];\n          return (\n            <div className=\"bot-bubble bubble-animate\" role=\"status\" aria-live=\"polite\">\n              <label htmlFor={`income-${label}`}>How much do you get from {label}?</label>\n              <input\n                ref={inputRef}\n                id={`income-${label}`}\n                type=\"number\"\n                value={input}\n                onChange={e => setInput(e.target.value)}\n                onKeyDown={e => e.key === \"Enter\" && input && handleMultiNext(\"income\", label, Number(input))}\n                tabIndex={0}\n                aria-label={`Income from ${label}`}\n              />\n              <button\n                className=\"bubble-action-btn\"\n                tabIndex={0}\n                aria-label=\"Next\"\n                onClick={() => input && handleMultiNext(\"income\", label, Number(input))}\n                disabled={!input}\n              >Next</button>\n            </div>\n          );\n        })()}\n        {/* Expenses collection */}\n        {step >= 4 + incomeSources.length && step < 4 + incomeSources.length + expenseCategories.length && (() => {\n          const idx = step - (4 + incomeSources.length);\n          const label = expenseCategories[idx];\n          return (\n            <div className=\"bot-bubble bubble-animate\" role=\"status\" aria-live=\"polite\">\n              <label htmlFor={`expense-${label}`}>How much do you spend on {label}?</label>\n              <input\n                ref={inputRef}\n                id={`expense-${label}`}\n                type=\"number\"\n                value={input}\n                onChange={e => setInput(e.target.value)}\n                onKeyDown={e => e.key === \"Enter\" && input && handleMultiNext(\"expenses\", label, Number(input))}\n                tabIndex={0}\n                aria-label={`Expenses for ${label}`}\n              />\n              <button\n                className=\"bubble-action-btn\"\n                tabIndex={0}\n                aria-label=\"Next\"\n                onClick={() => input && handleMultiNext(\"expenses\", label, Number(input))}\n                disabled={!input}\n              >Next</button>\n            </div>\n          );\n        })()}\n        {/* Insights */}\n        {step === 4 + incomeSources.length + expenseCategories.length && (\n          <div className=\"bot-bubble bubble-animate\" role=\"status\" aria-live=\"polite\">\n            <p>Insights for optimizing your money management skills</p>\n            <button className=\"bubble-action-btn\" tabIndex={0} aria-label=\"Get Insights\" onClick={() => sendLLM(\"insights\")} disabled={loading}>\n              {loading ? \"Thinking...\" : \"Get Insights\"}\n            </button>\n            {chatResponse && <div className=\"insights\">{chatResponse}</div>}\n            {chatResponse && <button className=\"bubble-action-btn\" tabIndex={0} aria-label=\"Next\" onClick={() => setStep(step + 1)}>Next</button>}\n          </div>\n        )}\n        {/* Q&A */}\n        {step === 5 + incomeSources.length + expenseCategories.length && (\n          <div className=\"bot-bubble bubble-animate\" role=\"status\" aria-live=\"polite\">\n            <label htmlFor=\"qna-input\">Do you have any questions about your money management or budgeting?</label>\n            <input\n              ref={inputRef}\n              id=\"qna-input\"\n              value={userState.qna}\n              onChange={e => setUserState(s => ({ ...s, qna: e.target.value }))}\n              onKeyDown={e => e.key === \"Enter\" && sendLLM(\"qna\")}\n              tabIndex={0}\n              aria-label=\"Money management question\"\n            />\n            <button className=\"bubble-action-btn\" tabIndex={0} aria-label=\"Ask\" onClick={() => sendLLM(\"qna\")} disabled={loading}>\n              {loading ? \"Thinking...\" : \"Ask\"}\n            </button>\n            {chatResponse && <div className=\"insights\">{chatResponse}</div>}\n            <button className=\"bubble-action-btn\" tabIndex={0} aria-label=\"Next\" onClick={() => setStep(step + 1)}>Next</button>\n          </div>\n        )}\n        {/* Spreadsheet download */}\n        {step === 6 + incomeSources.length + expenseCategories.length && (\n          <div className=\"bot-bubble bubble-animate\" role=\"status\" aria-live=\"polite\">\n            <p>Download your budget template as a spreadsheet</p>\n            <button className=\"bubble-action-btn\" tabIndex={0} aria-label=\"Download Spreadsheet\" onClick={download} disabled={loading}>Download</button>\n            {spreadsheetUrl && (\n              <a href={spreadsheetUrl} download=\"budget.xlsx\">Click here if your download does not start.</a>\n            )}\n          </div>\n        )}\n        {/* Done */}\n        {step > 6 + incomeSources.length + expenseCategories.length && (\n          <div className=\"bot-bubble bubble-animate\" role=\"status\" aria-live=\"polite\"><p>Thank you for using FinBot! Refresh to start over.</p></div>\n        )}\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}