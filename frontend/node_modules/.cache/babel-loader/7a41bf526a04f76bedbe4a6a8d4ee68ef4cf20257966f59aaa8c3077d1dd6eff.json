{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gvsux\\\\OneDrive\\\\Desktop\\\\Anangwe\\\\Budgeting-Bot\\\\frontend\\\\src\\\\components\\\\ChatWindow.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst incomeSources = [\"Job\", \"Side-hustle\", \"Family support\", \"Scholarships\", \"Reimbursements\", \"Tax refunds\"];\nconst expenseCategories = [\"Rent\", \"Groceries\", \"Utilities\", \"Transport\", \"Tuition\", \"Dining out\", \"Entertainment\", \"Other\"];\nexport default function ChatWindow() {\n  _s();\n  const [step, setStep] = useState(0);\n  const [userState, setUserState] = useState({\n    name: \"\",\n    goal: \"\",\n    income: {},\n    expenses: {},\n    qna: \"\",\n    insights: \"\"\n  });\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [chatResponse, setChatResponse] = useState(\"\");\n  const [spreadsheetUrl, setSpreadsheetUrl] = useState(\"\");\n\n  // Auto-focus input on step/response change\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (inputRef.current) inputRef.current.focus();\n  }, [step, loading, chatResponse]);\n\n  // Debug print for state\n  useEffect(() => {\n    console.log(\"ðŸŸ¢ Frontend state:\", {\n      step,\n      userState\n    });\n  }, [step, userState]);\n\n  // Stepper logic\n  const handleNext = field => {\n    setUserState(s => ({\n      ...s,\n      [field]: input\n    }));\n    setInput(\"\");\n    setStep(step + 1);\n  };\n  const handleMultiNext = (field, key, value) => {\n    setUserState(s => ({\n      ...s,\n      [field]: {\n        ...s[field],\n        [key]: value\n      }\n    }));\n    setInput(\"\");\n    setStep(step + 1);\n  };\n  const sendLLM = async stepName => {\n    setLoading(true);\n    try {\n      const res = await axios.post(\"http://localhost:8000/chat\", {\n        step: stepName,\n        user_state: userState\n      });\n      console.log(\"ðŸŸ¢ Frontend got:\", res.data);\n      setChatResponse(res.data.response);\n      setUserState(s => ({\n        ...s,\n        last_bot_message: res.data.response,\n        insight_text: stepName === \"insights\" ? res.data.response : s.insight_text\n      }));\n    } catch (err) {\n      console.error(err);\n      setChatResponse(\"Oops! Something went wrong.\");\n    }\n    setLoading(false);\n  };\n  const download = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.post(\"http://localhost:8000/export-budget\", userState, {\n        responseType: \"blob\"\n      });\n      const url = URL.createObjectURL(new Blob([res.data]));\n      setSpreadsheetUrl(url);\n      console.log(\"ðŸŸ¢ Frontend downloaded spreadsheet\");\n    } catch (err) {\n      console.error(err);\n    }\n    setLoading(false);\n  };\n\n  // Step-by-step chat UI\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-window-modern\",\n    children: [step === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bot-bubble\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Hello, I am FinBot, your AI Budgeting Assistant.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setStep(1),\n        children: \"Start\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bot-bubble\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"What is your name?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: e => e.key === \"Enter\" && handleNext(\"name\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleNext(\"name\"),\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bot-bubble\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"What is your financial goal this month?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: e => e.key === \"Enter\" && handleNext(\"goal\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleNext(\"goal\"),\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bot-bubble\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You wanna know what I think about your financial goal?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setStep(step + 1),\n        children: \"Yes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setStep(step + 1),\n        children: \"No\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this), step >= 4 && step < 4 + incomeSources.length && (() => {\n      const idx = step - 4;\n      const label = incomeSources[idx];\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bot-bubble\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"How much do you get from \", label, \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputRef,\n          type: \"number\",\n          value: input,\n          onChange: e => setInput(e.target.value),\n          onKeyDown: e => e.key === \"Enter\" && input && handleMultiNext(\"income\", label, Number(input))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => input && handleMultiNext(\"income\", label, Number(input)),\n          disabled: !input,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this);\n    })(), step >= 4 + incomeSources.length && step < 4 + incomeSources.length + expenseCategories.length && (() => {\n      const idx = step - (4 + incomeSources.length);\n      const label = expenseCategories[idx];\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bot-bubble\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"How much do you spend on \", label, \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputRef,\n          type: \"number\",\n          value: input,\n          onChange: e => setInput(e.target.value),\n          onKeyDown: e => e.key === \"Enter\" && input && handleMultiNext(\"expenses\", label, Number(input))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => input && handleMultiNext(\"expenses\", label, Number(input)),\n          disabled: !input,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this);\n    })(), step === 4 + incomeSources.length + expenseCategories.length && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bot-bubble\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Insights for optimizing your money management skills\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => sendLLM(\"insights\"),\n        disabled: loading,\n        children: loading ? \"Thinking...\" : \"Get Insights\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), chatResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"insights\",\n        children: chatResponse\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 28\n      }, this), chatResponse && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setStep(step + 1),\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }, this), step === 5 + incomeSources.length + expenseCategories.length && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bot-bubble\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Do you have any questions about your money management or budgeting?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        value: userState.qna,\n        onChange: e => setUserState(s => ({\n          ...s,\n          qna: e.target.value\n        })),\n        onKeyDown: e => e.key === \"Enter\" && chatResponse === \"\" && sendLLM(\"qna\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => sendLLM(\"qna\"),\n        disabled: loading,\n        children: loading ? \"Thinking...\" : \"Ask\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this), chatResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"insights\",\n        children: chatResponse\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 28\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setStep(step + 1),\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }, this), step === 6 + incomeSources.length + expenseCategories.length && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bot-bubble\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Download your budget template as a spreadsheet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: download,\n        disabled: loading,\n        children: \"Download\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), spreadsheetUrl && /*#__PURE__*/_jsxDEV(\"a\", {\n        href: spreadsheetUrl,\n        download: \"budget.xlsx\",\n        children: \"Click here if your download does not start.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }, this), step > 6 + incomeSources.length + expenseCategories.length && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bot-bubble\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Thank you for using FinBot! Refresh to start over.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatWindow, \"dV8wopX98wbo/JpvBT71WbbjJt4=\");\n_c = ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsxDEV","_jsxDEV","incomeSources","expenseCategories","ChatWindow","_s","step","setStep","userState","setUserState","name","goal","income","expenses","qna","insights","input","setInput","loading","setLoading","chatResponse","setChatResponse","spreadsheetUrl","setSpreadsheetUrl","inputRef","current","focus","console","log","handleNext","field","s","handleMultiNext","key","value","sendLLM","stepName","res","post","user_state","data","response","last_bot_message","insight_text","err","error","download","responseType","url","URL","createObjectURL","Blob","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","onChange","e","target","onKeyDown","length","idx","label","type","Number","disabled","href","_c","$RefreshReg$"],"sources":["C:/Users/gvsux/OneDrive/Desktop/Anangwe/Budgeting-Bot/frontend/src/components/ChatWindow.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles.css\";\n\nconst incomeSources = [\n  \"Job\", \"Side-hustle\", \"Family support\", \"Scholarships\", \"Reimbursements\", \"Tax refunds\"\n];\nconst expenseCategories = [\n  \"Rent\", \"Groceries\", \"Utilities\", \"Transport\", \"Tuition\", \"Dining out\", \"Entertainment\", \"Other\"\n];\n\nexport default function ChatWindow() {\n  const [step, setStep] = useState(0);\n  const [userState, setUserState] = useState({\n    name: \"\", goal: \"\", income: {}, expenses: {}, qna: \"\", insights: \"\"\n  });\n  const [input, setInput] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [chatResponse, setChatResponse] = useState(\"\");\n  const [spreadsheetUrl, setSpreadsheetUrl] = useState(\"\");\n\n  // Auto-focus input on step/response change\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (inputRef.current) inputRef.current.focus();\n  }, [step, loading, chatResponse]);\n\n  // Debug print for state\n  useEffect(() => {\n    console.log(\"ðŸŸ¢ Frontend state:\", { step, userState });\n  }, [step, userState]);\n\n  // Stepper logic\n  const handleNext = (field) => {\n    setUserState(s => ({ ...s, [field]: input }));\n    setInput(\"\");\n    setStep(step + 1);\n  };\n\n  const handleMultiNext = (field, key, value) => {\n    setUserState(s => ({\n      ...s,\n      [field]: { ...s[field], [key]: value }\n    }));\n    setInput(\"\");\n    setStep(step + 1);\n  };\n\n  const sendLLM = async (stepName) => {\n    setLoading(true);\n    try {\n      const res = await axios.post(\"http://localhost:8000/chat\", {\n        step: stepName,\n        user_state: userState,\n      });\n      console.log(\"ðŸŸ¢ Frontend got:\", res.data);\n      setChatResponse(res.data.response);\n      setUserState(s => ({\n        ...s,\n        last_bot_message: res.data.response,\n        insight_text: stepName === \"insights\" ? res.data.response : s.insight_text\n      }));\n    } catch (err) {\n      console.error(err);\n      setChatResponse(\"Oops! Something went wrong.\");\n    }\n    setLoading(false);\n  };\n\n  const download = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.post(\"http://localhost:8000/export-budget\", userState, { responseType: \"blob\" });\n      const url = URL.createObjectURL(new Blob([res.data]));\n      setSpreadsheetUrl(url);\n      console.log(\"ðŸŸ¢ Frontend downloaded spreadsheet\");\n    } catch (err) {\n      console.error(err);\n    }\n    setLoading(false);\n  };\n\n  // Step-by-step chat UI\n  return (\n    <div className=\"chat-window-modern\">\n      {/* Step 0: Greeting */}\n      {step === 0 && (\n        <div className=\"bot-bubble\">\n          <h2>Hello, I am FinBot, your AI Budgeting Assistant.</h2>\n          <button onClick={() => setStep(1)}>Start</button>\n        </div>\n      )}\n      {/* Step 1: Name */}\n      {step === 1 && (\n        <div className=\"bot-bubble\">\n          <p>What is your name?</p>\n          <input\n            ref={inputRef}\n            value={input}\n            onChange={e => setInput(e.target.value)}\n            onKeyDown={e => e.key === \"Enter\" && handleNext(\"name\")}\n          />\n          <button onClick={() => handleNext(\"name\")}>Next</button>\n        </div>\n      )}\n      {/* Step 2: Financial Goal */}\n      {step === 2 && (\n        <div className=\"bot-bubble\">\n          <p>What is your financial goal this month?</p>\n          <input\n            ref={inputRef}\n            value={input}\n            onChange={e => setInput(e.target.value)}\n            onKeyDown={e => e.key === \"Enter\" && handleNext(\"goal\")}\n          />\n          <button onClick={() => handleNext(\"goal\")}>Next</button>\n        </div>\n      )}\n      {/* Step 3: Confirmation */}\n      {step === 3 && (\n        <div className=\"bot-bubble\">\n          <p>You wanna know what I think about your financial goal?</p>\n          <button onClick={() => setStep(step + 1)}>Yes</button>\n          <button onClick={() => setStep(step + 1)}>No</button>\n        </div>\n      )}\n      {/* Income collection */}\n      {step >= 4 && step < 4 + incomeSources.length && (() => {\n        const idx = step - 4;\n        const label = incomeSources[idx];\n        return (\n          <div className=\"bot-bubble\">\n            <p>How much do you get from {label}?</p>\n            <input\n              ref={inputRef}\n              type=\"number\"\n              value={input}\n              onChange={e => setInput(e.target.value)}\n              onKeyDown={e => e.key === \"Enter\" && input && handleMultiNext(\"income\", label, Number(input))}\n            />\n            <button\n              onClick={() => input && handleMultiNext(\"income\", label, Number(input))}\n              disabled={!input}\n            >\n              Next\n            </button>\n          </div>\n        );\n      })()}\n      {/* Expenses collection */}\n      {step >= 4 + incomeSources.length && step < 4 + incomeSources.length + expenseCategories.length && (() => {\n        const idx = step - (4 + incomeSources.length);\n        const label = expenseCategories[idx];\n        return (\n          <div className=\"bot-bubble\">\n            <p>How much do you spend on {label}?</p>\n            <input\n              ref={inputRef}\n              type=\"number\"\n              value={input}\n              onChange={e => setInput(e.target.value)}\n              onKeyDown={e => e.key === \"Enter\" && input && handleMultiNext(\"expenses\", label, Number(input))}\n            />\n            <button\n              onClick={() => input && handleMultiNext(\"expenses\", label, Number(input))}\n              disabled={!input}\n            >\n              Next\n            </button>\n          </div>\n        );\n      })()}\n      {/* Insights */}\n      {step === 4 + incomeSources.length + expenseCategories.length && (\n        <div className=\"bot-bubble\">\n          <p>Insights for optimizing your money management skills</p>\n          <button onClick={() => sendLLM(\"insights\")} disabled={loading}>\n            {loading ? \"Thinking...\" : \"Get Insights\"}\n          </button>\n          {chatResponse && <div className=\"insights\">{chatResponse}</div>}\n          {chatResponse && <button onClick={() => setStep(step + 1)}>Next</button>}\n        </div>\n      )}\n      {/* Q&A */}\n      {step === 5 + incomeSources.length + expenseCategories.length && (\n        <div className=\"bot-bubble\">\n          <p>Do you have any questions about your money management or budgeting?</p>\n          <input\n            ref={inputRef}\n            value={userState.qna}\n            onChange={e => setUserState(s => ({ ...s, qna: e.target.value }))}\n            onKeyDown={e => e.key === \"Enter\" && chatResponse === \"\" && sendLLM(\"qna\")}\n          />\n          <button onClick={() => sendLLM(\"qna\")} disabled={loading}>\n            {loading ? \"Thinking...\" : \"Ask\"}\n          </button>\n          {chatResponse && <div className=\"insights\">{chatResponse}</div>}\n          <button onClick={() => setStep(step + 1)}>Next</button>\n        </div>\n      )}\n      {/* Spreadsheet download */}\n      {step === 6 + incomeSources.length + expenseCategories.length && (\n        <div className=\"bot-bubble\">\n          <p>Download your budget template as a spreadsheet</p>\n          <button onClick={download} disabled={loading}>Download</button>\n          {spreadsheetUrl && (\n            <a href={spreadsheetUrl} download=\"budget.xlsx\">Click here if your download does not start.</a>\n          )}\n        </div>\n      )}\n      {/* Done */}\n      {step > 6 + incomeSources.length + expenseCategories.length && (\n        <div className=\"bot-bubble\"><p>Thank you for using FinBot! Refresh to start over.</p></div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}